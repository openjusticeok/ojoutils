stringr::str_to_lower()
county <- "oklahoma"
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# if (case == "title") {
if (case == "title") {
county <- dplyr::case_when(
county == "Leflore" ~ "LeFlore",
county == "Mcclain" ~ "McClain",
county == "Mccurtain" ~ "McCurtain",
county == "Rogermills" ~ "Roger Mills",
TRUE ~ county
)
}
case = "title"
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# if (case == "title") {
if (case == "title") {
county <- dplyr::case_when(
county == "Leflore" ~ "LeFlore",
county == "Mcclain" ~ "McClain",
county == "Mccurtain" ~ "McCurtain",
county == "Rogermills" ~ "Roger Mills",
TRUE ~ county
)
}
# if (case == "title") {
if (case == "title") {
county <- dplyr::case_when(
county == "Leflore" ~ "LeFlore",
county == "Mcclain" ~ "McClain",
county == "Mccurtain" ~ "McCurtain",
county == "Rogermills" ~ "Roger Mills",
TRUE ~ county
)
}
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# if (case == "title") {
if (case == "title") {
county <- dplyr::case_when(
county == "Leflore" ~ "LeFlore",
county == "Mcclain" ~ "McClain",
county == "Mccurtain" ~ "McCurtain",
county == "Rogermills" ~ "Roger Mills",
TRUE ~ county
)
}
# Add suffix if requested
if (!is.null(suffix)) {
county <- stringr::str_c(county, suffix)
}
county <- stringr::str_c(county, suffix, sep = " ")
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# if (case == "title") {
if (case == "title") {
county <- dplyr::case_when(
county == "Leflore" ~ "LeFlore",
county == "Mcclain" ~ "McClain",
county == "Mccurtain" ~ "McCurtain",
county == "Rogermills" ~ "Roger Mills",
TRUE ~ county
)
}
# Add suffix if requested
if (!is.null(suffix)) {
county <- stringr::str_c(county, suffix, sep = " ")
}
# Remove all spaces if requested
if (isTRUE(squish)) {
county <- stringr::str_remove_all(county, "\\s")
}
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county)
)
devtools::load_all(".")
ojo_list_counties()
ojo_list_counties(case = "title")
ojo_list_counties(case = "lower")
ojo_list_counties(case = "lower", suffix = "district court")
ojo_list_counties(case = "title", suffix = "district court")
ojo_list_counties(case = "upper", suffix = "district court")
ojo_list_counties(case = "upper", suffix = "district court", squish = T)
ojo_list_counties(case = "upper", suffix = "district court", squish = F)
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> filter(str_detect("roger", county))
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> filter(stringr::str_detect("roger", county))
ojo_list_counties(case = "upper", suffix = "district court", squish = F)
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> filter(stringr::str_detect("(?i)roger", county))
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect("(?i)roger", county))
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect("(?i)roger", county))
ojo_list_counties(case = "upper", suffix = "district court", squish = F)
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> dplyr::filter(str_detect("(?i)roger", value))
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect("(?i)roger", value))
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect("(?i)Roger", value))
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect("(?i)oklahoma", value))
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect("(?i)Oklah", value))
ojo_list_counties(case = "upper", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect("(?i)OKLA", value))
ojo_list_counties(case = "lower", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect("(?i)okla", value))
ojo_list_counties(case = "lower", suffix = "district court", squish = F)
ojo_list_counties(case = "lower", suffix = "district court", squish = F)  -> a
a |> filter(stringr::str_detect(value, "(?i)caddo"))
ojo_list_counties(case = "lower", suffix = "district court", squish = F) |> filter(stringr::str_detect(value, "(?i)caddo"))
ojo_list_counties(case = "lower", suffix = "district court", squish = F) |> filter(stringr::str_detect(value, "(?i)caddo"))
ojo_list_counties(case = "lower", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)caddo"))
ojo_list_counties(case = "lower", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
devtools::load_all(".")
ojo_list_counties(case = "lower", suffix = "district court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "lower", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
devtools::load_all(".")
ojo_list_counties(case = "lower", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "lower", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "lower", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "upper", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "title", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "title", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "lower", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "upper", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
# Check case arg
case <- rlang::arg_match0(
arg = stringr::str_to_lower(case),
values = c("lower", "upper", "title")
)
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# Add suffix if requested
if (!is.null(suffix)) {
county <- stringr::str_c(county, suffix, sep = " ")
}
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county)
)
# Remove all spaces if requested
if (isTRUE(squish)) {
county <- stringr::str_remove_all(county, "\\s")
}
squish = T
# Remove all spaces if requested
if (isTRUE(squish)) {
county <- stringr::str_remove_all(county, "\\s")
}
# Check case arg
case <- rlang::arg_match0(
arg = stringr::str_to_lower(case),
values = c("lower", "upper", "title")
)
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# Add suffix if requested
if (!is.null(suffix)) {
county <- stringr::str_c(county, suffix, sep = " ")
}
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county)
)
devtools::load_all(".")
# Remove all spaces if requested
if (isTRUE(squish)) {
county <- stringr::str_remove_all(county, "\\s")
# If case == "title" and squish == TRUE, we need to do both
# if(case == "title") {
#   county <- dplyr::case_when(
#     tolower(county) == "rogermills" ~ "RogerMills"
#   )
# }
}
devtools::load_all(".")
devtools::load_all(".")
devtools::check()
ojo_list_counties()
ojo_list_counties(case = "title", squish = TRUE, suffix = "case", oscn_only = T)
ojo_list_counties(case = "title", squish = TRUE, suffix = "case")
ojo_list_counties(case = "title", squish = FALSE, suffix = "case")
ojo_list_counties(case = "upper", squish = FALSE, suffix = "case")
ojo_list_counties(case = "upper", squish = FALSE, suffix = "county")
ojo_list_counties(case = "lower", squish = FALSE, suffix = "county")
ojo_list_counties(case = "lower", squish = TRUE, suffix = "county")
ojo_list_counties(case = "title", squish = TRUE, suffix = "county")
ojo_list_counties(case = "upper", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "title", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "title", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "title", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
devtools::load_all(".")
# Check case arg
case <- rlang::arg_match0(
arg = stringr::str_to_lower(case),
values = c("lower", "upper", "title")
)
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# Add suffix if requested
if (!is.null(suffix)) {
county <- stringr::str_c(county, suffix, sep = " ")
}
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county)
)
# Remove all spaces if requested
if (isTRUE(squish)) {
county <- stringr::str_remove_all(county, "\\s")
}
# Handle exceptional cases
if (case == "title" & isTRUE(squish)) {
county <- dplyr::case_when(
tolower(county) == "leflore" ~ "LeFlore",
tolower(county) == "mcclain" ~ "McClain",
tolower(county) == "mccurtain" ~ "McCurtain",
tolower(county) == "rogermills" ~ "RogerMills",
TRUE ~ county
)
} else if (case == "title" & isFALSE(squish)) {
county <- dplyr::case_when(
tolower(county) == "leflore" ~ "LeFlore",
tolower(county) == "mcclain" ~ "McClain",
tolower(county) == "mccurtain" ~ "McCurtain",
tolower(county) == "rogermills" ~ "Roger Mills",
TRUE ~ county
)
}
county <- "rogermills"
# Check case arg
case <- rlang::arg_match0(
arg = stringr::str_to_lower(case),
values = c("lower", "upper", "title")
)
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# Add suffix if requested
if (!is.null(suffix)) {
county <- stringr::str_c(county, suffix, sep = " ")
}
devtools::load_all(".")
ojo_list_counties()
ojo_list_counties(case = "title", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
squish <- F
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# Add suffix if requested
if (!is.null(suffix)) {
county <- stringr::str_c(county, suffix, sep = " ")
}
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county),
# Adjusting for unusual district names
tolower(county) == "rogermills" & case == "lower" ~ "roger mills",
tolower(county) == "rogermills" & case == "title" ~ "Roger Mills",
tolower(county) == "rogermills" & case == "upper" ~ "ROGER MILLS",
tolower(county) == "leflore" & case == "title" ~ "LeFlore",
tolower(county) == "mcclain" & case == "title" ~ "McClain",
tolower(county) == "mccurtain" & case == "title" ~ "McCurtain",
)
devtools::load_all(".")
ojo_list_counties(case = "title", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
# Check case arg
case <- rlang::arg_match0(
arg = stringr::str_to_lower(case),
values = c("lower", "upper", "title")
)
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county),
# Adjusting for unusual district names
tolower(county) == "rogermills" & case == "lower" ~ "roger mills",
tolower(county) == "rogermills" & case == "title" ~ "Roger Mills",
tolower(county) == "rogermills" & case == "upper" ~ "ROGER MILLS",
tolower(county) == "leflore" & case == "title" ~ "LeFlore",
tolower(county) == "mcclain" & case == "title" ~ "McClain",
tolower(county) == "mccurtain" & case == "title" ~ "McCurtain",
)
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county),
# Adjusting for unusual district names
tolower(county) == "rogermills" & case == "lower" ~ "roger mills",
tolower(county) == "rogermills" & case == "title" ~ "Roger Mills",
tolower(county) == "rogermills" & case == "upper" ~ "ROGER MILLS",
tolower(county) == "leflore" & case == "title" ~ "LeFlore",
tolower(county) == "mcclain" & case == "title" ~ "McClain",
tolower(county) == "mccurtain" & case == "title" ~ "McCurtain",
)
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county),
# Adjusting for unusual district names
tolower(county) == "rogermills" & case == "lower" ~ "roger mills",
tolower(county) == "rogermills" & case == "title" ~ "Roger Mills",
tolower(county) == "rogermills" & case == "upper" ~ "ROGER MILLS",
tolower(county) == "leflore" & case == "title" ~ "LeFlore",
tolower(county) == "mcclain" & case == "title" ~ "McClain",
tolower(county) == "mccurtain" & case == "title" ~ "McCurtain",
)
tolower(county) == "mccurtain" & case == "title"
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# Apply Casing
county <- dplyr::case_when(
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county),
# Adjusting for unusual district names
tolower(county) == "rogermills" & case == "lower" ~ "roger mills",
tolower(county) == "rogermills" & case == "title" ~ "Roger Mills",
tolower(county) == "rogermills" & case == "upper" ~ "ROGER MILLS",
tolower(county) == "leflore" & case == "title" ~ "LeFlore",
tolower(county) == "mcclain" & case == "title" ~ "McClain",
tolower(county) == "mccurtain" & case == "title" ~ "McCurtain",
)
# Remove anything besides the oklahoma county name
county <- stringr::str_remove_all(county, "(?i),|\\s|county") |>
stringr::str_remove_all("\\P{L}") |>
stringr::str_to_lower()
county <- dplyr::if_else(
county %in% counties,
county,
NA_character_
)
# Apply Casing
county <- dplyr::case_when(
# Adjusting for unusual district names
tolower(county) == "rogermills" & case == "lower" ~ "roger mills",
tolower(county) == "rogermills" & case == "title" ~ "Roger Mills",
tolower(county) == "rogermills" & case == "upper" ~ "ROGER MILLS",
tolower(county) == "leflore" & case == "title" ~ "LeFlore",
tolower(county) == "mcclain" & case == "title" ~ "McClain",
tolower(county) == "mccurtain" & case == "title" ~ "McCurtain",
# Normal behavior
case == "lower" ~ stringr::str_to_lower(county),
case == "upper" ~ stringr::str_to_upper(county),
case == "title" ~ stringr::str_to_title(county),
)
# Add suffix if requested
if (!is.null(suffix)) {
county <- stringr::str_c(county, suffix, sep = " ")
}
# Remove all spaces if requested
if (isTRUE(squish)) {
county <- stringr::str_remove_all(county, "\\s")
}
# Handle exceptional cases
if (case == "title" & isTRUE(squish)) {
county <- dplyr::case_when(
tolower(county) == "leflore" ~ "LeFlore",
tolower(county) == "mcclain" ~ "McClain",
tolower(county) == "mccurtain" ~ "McCurtain",
tolower(county) == "rogermills" ~ "RogerMills",
TRUE ~ county
)
} else if (case == "title" & isFALSE(squish)) {
county <- dplyr::case_when(
tolower(county) == "leflore" ~ "LeFlore",
tolower(county) == "mcclain" ~ "McClain",
tolower(county) == "mccurtain" ~ "McCurtain",
tolower(county) == "rogermills" ~ "Roger Mills",
TRUE ~ county
)
}
devtools::load_all(".")
ojo_list_counties(case = "title", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "title", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
devtools::load_all(".")
ojo_list_counties(case = "title", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
devtools::load_all(".")
ojo_list_counties(case = "title", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "title", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "lower", suffix = "court", squish = F) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_list_counties(case = "lower", suffix = "court", squish = T) |> dplyr::filter(stringr::str_detect(value, "(?i)roger"))
ojo_parse_county("rogermills")
ojo_list_counties()
ojo_list_counties(case = )
ojo_list_counties(case = "upper")
ojo_list_counties(case = "upper", suffix = "wahoo!")
ojo_list_counties(case = "title", suffix = "wahoo!")
ojo_list_counties(case = "lower", suffix = "wahoo!")
devtools::load_all(".")
ojo_list_counties(case = "lower", suffix = "wahoo!", oscn_only = T)
devtools::load_all(".")
ojo_list_counties(case = "lower", suffix = "wahoo!", oscn_only = T)
ojo_list_counties(case = "lower", suffix = "county")
ojo_list_counties(case = "lower", suffix = "county", oscn_only = T)
ojo_list_counties(case = "lower", oscn_only = T)
devtools::load_all(".")
ojo_list_counties(case = "lower", oscn_only = T)
ojo_list_counties(case = "lower", oscn_only = F)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::check()
devtools::load_all(".")
a <- ojo_list_counties()
a
a |> as.list()
ojo_list_counties(case = "title", squish = TRUE, suffix = "COUNTY", oscn_only = TRUE)
ojo_list_counties(case = "title", squish = FALSE, suffix = "COUNTY", oscn_only = TRUE)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
ojo_list_counties(case = "lower", squish = FALSE, suffix = NULL, oscn_only = TRUE)$value
devtools::load_all(".")
devtools::load_all(".")
ojo_list_counties()
ojo_list_counties(oscn_only = T)
